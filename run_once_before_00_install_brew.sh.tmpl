#!/usr/bin/env bash

{{- if (eq .chezmoi.os "darwin") }}
type brew &> /dev/null || curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh

brew bundle --no-lock --file=/dev/stdin <<EOF
# === Taps ===

tap "colindean/fonts-nonfree"
tap "drud/ddev"
tap "homebrew/bundle"
tap "homebrew/cask"
tap "homebrew/cask-drivers"
tap "homebrew/core"
tap "homebrew/cask-fonts"
tap "homebrew/services"
tap "humbug/box"
tap "saulpw/vd"

# === Casks ===

# Fonts
cask "font-cascadia-code"
cask "font-cascadia-code-pl"
cask "font-cascadia-mono"
cask "font-cascadia-mono-pl"
cask "font-caskaydia-cove-nerd-font"
cask "font-droid-sans-mono-nerd-font"
cask "font-fira-code-nerd-font"
cask "font-go-mono-nerd-font"
cask "font-hack"
cask "font-hack-nerd-font"
cask "font-inconsolata"
cask "font-jetbrains-mono"
#cask "font-microsoft-office"

# IDEs
cask "phpstorm"
cask "sublime-text"
cask "visual-studio-code"

# Developer Tools
cask "docker"
cask "fork"
cask "gitup"
cask "imageoptim"
cask "iterm2"
cask "lando"
cask "lens"
cask "meld"
cask "mongodb-compass"
cask "postman"
cask "sequel-ace"
cask "sublime-merge"
cask "warp"

# Browsers
cask "choosy"
cask "google-chrome"
cask "firefox"
cask "microsoft-edge"

# Work Tools
cask "clickup"
cask "cron"
cask "dropbox"
#cask "gnucash"
#cask "grammarly"
cask "itsycal"
cask "lastpass"
cask "microsoft-office"
cask "notion"
cask "skype"
cask "slack"
cask "zoom"

# Productivity
cask "logseq"
cask "obsidian"

# System Utilities
cask "authy"
#cask "ccleaner"
cask "cleanshot"
#cask "commander-one"
cask "disk-inventory-x"
cask "divvy"
#cask "flux"
cask "istat-menus"
#cask "karabiner-elements"
cask "krisp"
cask "maccy"
cask "mounty"
cask "raycast"
cask "rectangle"
cask "the-unarchiver"
cask "vanilla"

# Media
cask "adobe-acrobat-reader"
cask "adobe-creative-cloud"
#cask "edex-ui"
cask "kap"
cask "kid3"
cask "kindle"
cask "gimp"
cask "handbrake"
#cask "jubler"
cask "obs"
cask "paintbrush"
cask "vlc"

# Misc
#cask "steam"
cask "osxfuse"
cask "buttercup"

# Devices
cask "elgato-control-center"
cask "logi-options-plus"

# === Formulae ===

# Modern CLI tools

brew "bat"
brew "bottom"
brew "broot"
brew "cheat"
brew "choose-rust"
brew "difftastic"
brew "dog"
brew "duf"
brew "dust"
brew "exa"
brew "fd"
brew "fzf"
brew "gping"
brew "hexyl"
brew "httpie"
brew "lsd"
brew "ripgrep"
brew "the_silver_searcher"
brew "xh"

# Other tools

brew "ansible"
brew "awscli"
brew "bash"
brew "box"
brew "brotli"
brew "bpytop"
brew "brew-cask-completion"
brew "gettext"
brew "composer"
brew "chezmoi"
brew "coreutils"
brew "ctop"
brew "curl"
brew "dnsmasq", restart_service: true
brew "docker-completion"
brew "doctl"
brew "exercism"
brew "fd"
brew "ffmpeg"
brew "fig"
brew "fish"
brew "fx"
brew "gd"
brew "git"
brew "git-delta"
brew "git-extras"
brew "git-lfs"
brew "git-quick-stats"
brew "gnupg"
brew "gnu-sed"
brew "gh"
brew "go"
brew "go-task/tap/go-task"
brew "gpatch"
brew "graphviz"
brew "helm"
brew "highlight"
brew "homeport/tap/dyff"
brew "htop"
brew "hub"
brew "hyperfine"
brew "jq"
brew "kubernetes-cli"
brew "lastpass-cli"
brew "lazygit"
brew "librsvg"
brew "libxml2"
brew "readline"
brew "mackup"
brew "mas"
brew "mkcert"
brew "mosh"
brew "ncdu"
brew "node"
#brew "ntfs-3g"
brew "openssl"
brew "phive"
brew "php"
brew "php@7.4"
brew "php@8.0"
brew "pinentry"
brew "pinentry-mac"
brew "pipenv"
brew "pkg-config"
brew "pv"
brew "python3"
brew "python@3.10"
brew "rustup-init"
#brew "shellcheck"
brew "sqlite"
brew "ssh-copy-id"
brew "starship"
brew "terminal-notifier"
brew "terraform"
brew "tig"
brew "tree"
brew "visidata"
brew "watch"
brew "withgraphite/tap/graphite"
brew "wget"
brew "xz"
brew "yarn"
brew "youtube-dl"
brew "drud/ddev/ddev"

# === Mac App Store Applications ===
mas "Brother iPrint&Scan", id: 1193539993
mas "Jira", id: 1475897096
mas "Notability", id: 360593530
mas "Todoist", id: 585829637
EOF
{{- end }}
